<base:RegionContextAwareUserControl x:Class="Hymperia.Facade.Views.Editeur.Viewport"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:prism="http://prismlibrary.com/"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
    xmlns:base="clr-namespace:Hymperia.Facade.BaseClasses" xmlns:local="clr-namespace:Hymperia.Facade.DependencyObjects"
    prism:ViewModelLocator.AutoWireViewModel="True" RegionContext="{Binding RegionContext, Mode=OneWayToSource}">
  <local:Viewport x:Name="viewport" CalculateCursorPosition="True" ItemsSource="{Binding Formes}"
      SelectedItems="{Binding FormesSelectionnees}" SelectionMode="{Binding RegionContext.SelectedSelectionMode, Mode=OneWay}">
    <i:Interaction.Triggers>
      <i:EventTrigger EventName="MouseDoubleClick">
        <i:InvokeCommandAction Command="{Binding RegionContext.AjouterForme}"
            CommandParameter="{Binding CursorPosition, RelativeSource={RelativeSource AncestorType={x:Type base:RegionContextAwareUserControl}}}" />
      </i:EventTrigger>
    </i:Interaction.Triggers>
    <local:Viewport.InputBindings>
      <KeyBinding Key="Delete" Command="{Binding RegionContext.SupprimerForme}" />
      <KeyBinding Key="Backspace" Command="{Binding RegionContext.SupprimerForme}" />
    </local:Viewport.InputBindings>
  </local:Viewport>
</base:RegionContextAwareUserControl>
